# 实验5：图书管理系统数据库设计与界面设计
|学号|班级|姓名|照片|
|:----------:|:---------:| :----:|:-----:|
|201510414107|软件(本)15-1|高强|![photo](../photo.gif)|


# 1.数据库表设计
## 1.1.图书表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|book_id|int(11)|主键|否||||
|book_type|varchar2(100)|外键|否||||
|book_name|varchar2(100)| |否||||
|book_publisher|varchar2(100)| |否||||
|book_date|datetime(0)| |否||||
|book_author|varchar2(100)| |否||||
|book_price|decimal(10)| |否||||
|book_total|varchar2(100)| |否||||
|book_temp|varchar2(100)| |是||||

## 1.2.管理表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|manage_id|int(11)|主键|否||||
|name|varchar2(100)| |否||||
|password|varchar2(100)| |否||||
|contact_method|varchar2(100)| |否||||

## 1.3.图书类型表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|type_id|int(11)|主键|否||||
|type_name|varchar2(100)| |否||||

## 1.4.借书证表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|lend_id|int(11)|主键|否||||
|name|varchar2(100)| |否||||
|type|varchar2(100)| |否||||

## 1.5.借书记录表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|book_id|int(11)|主键|否||||
|lend_id|int(11)|外键|否||||
|lend_date|datetime(0)| |否||||
|return_date|datetime(0)| |否||||
|manage_id|int(11)|外键|否||||






# 2.界面设计

# 2.1.借书界面设计
![lendBookManage](lendBookManage.jpg)
- 用例图参见：借书用例
- 类图参见：借书类，读者类
- 顺序图参见：借书顺序图
- API接口如下：

1. 获取全部已借图书

- 功能：用于获取所有已有图书
- 请求地址： http://[YOUR_DOMAIN]/selectAllLend.action
- 请求方法：get
- 请求参数：无

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|method|是|固定为 “GET”。|

- 返回实例：
```
{
    "info": "success",
    "total":50,
    "data": {
        ["bookId": "31545",
        "readerId": "14361",
        "bookName": "安徒生童话",
        "publisher": "人民出版社",
        "price": "￥35.00",
        "isbn": "978-753-88-65-370",
        "ltime": "2015-12-02"]
    },
    "code": 200
}
```
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|Info|返回信息|
|total|共有多少本|
|data|图书信息|
|dodo|返回码|


1. 借阅图书

- 功能：用于借阅图书
- 请求地址： http://[YOUR_DOMAIN]/lendBookLend.action
- 请求方法：post
- 请求参数：借阅图书id

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|method|是|"post"|

- 返回实例：
```
{
    "info": "success",
    "data": {
        null
    },
    "code": 200
}
```
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|Info|返回信息|
|data|图书信息|
|dodo|返回码|

